<!DOCTYPE html>

<html>

<head>
	<meta charset="utf-8" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui">
	<title>mahjongh5</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>
	<script>

		function join() {
			const name = document.getElementById("name").value;
			const room = document.getElementById("room").value;
			
			if (name === "" || room === "") return;

			localStorage.setItem("Username", name);
			localStorage.setItem("Room", room);

			
			// const socket = io("http://140.118.127.169:1234");
			const socket = io("http://140.118.127.157:3000");

			socket.emit("playerLogin", room, (message) => {
				if (message !== undefined && message === "Room is full") {
					console.log("this room is full!");
					return;
				}
				window.location = "./room.html";
			});
		};
	</script>
	<style>
		body {
			text-align: center;
			height: 100%;
		}
		div {
			position: relative;
			top:30vh;
		}
		input {
			height: 50px;
			width: 400px;
			border-radius: 10px;
			font-size: 24pt;
		}
		button {
			height: 50px;
			width: 150px;
			border-radius: 10px;
			background-color: rgb(26, 87, 199);
			font-size: 24pt;
			color: white;
		}
	</style>
</head>

<body>
	<div>
		<p><input id="name" placeholder="Name"></p>
		<p><input id="room" placeholder="Room Name"></p>
		<p></p><button onclick="join()">Join</a></button></p>
	</div>
</body>

</html>